<!-- Exam Workspace Template - 3-Column Layout: Files | Editor | DevTools -->
<div id="exam-container" class="exam-container" style="display: none;">
    <!-- Header -->
    <div class="exam-header">
        <div class="student-info">
            <span>–°—Ç—É–¥–µ–Ω—Ç: <strong id="student-name-display"></strong></span>
            <span>–ö–ª–∞—Å: <strong id="student-class-display"></strong></span>
            <span>ID: <strong id="session-id-display"></strong></span>
        </div>

        <div class="exam-timer">
            <span class="timer-icon">‚è±</span>
            <span id="timer-display">03:00:00</span>
        </div>

        <div class="layout-controls">
            <button class="layout-btn" id="toggle-files-btn" data-event="click" data-handler="togglePanel"
                data-params='{"panel":"files"}'>Files</button>
            <button class="layout-btn active" id="toggle-devtools-btn" data-event="click" data-handler="togglePanel"
                data-params='{"panel":"devtools"}'>DevTools</button>
            <button id="finish-exam-btn" class="btn-danger" data-event="click" data-handler="finishExam">–ü—Ä–∏–∫–ª—é—á–∏
                –∏–∑–ø–∏—Ç–∞</button>
        </div>
    </div>

    <!-- Main Content - 3 Column Grid -->
    <div class="exam-content">
        <!-- Files Panel (Left) -->
        <div class="files-panel" id="files-panel">
            <div class="files-header">
                <h3>Project Files</h3>
                <div class="files-controls">
                    <button class="file-action-btn new-file" title="New File"></button>
                    <button class="file-action-btn upload" title="Upload"></button>
                    <button class="file-action-btn refresh" title="Refresh"></button>
                </div>
            </div>
            <div class="files-content">
                <!-- File tree will be populated by JS -->
                <div class="file-tree-empty">
                    <div class="empty-folder-icon">üìÅ</div>
                    <div class="empty-title">No Files</div>
                    <div class="empty-description">Upload files or create new ones to get started</div>
                </div>
            </div>
        </div>

        <!-- Editor Panel (Center) -->
        <div class="editor-panel">
            <div class="editor-header">
                <h3>–ö–æ–¥ –†–µ–¥–∞–∫—Ç–æ—Ä</h3>
                <div class="editor-controls">
                    <button id="run-code-btn" class="btn-success" data-event="click"
                        data-handler="runCode">–°—Ç–∞—Ä—Ç–∏—Ä–∞–π</button>
                    <button id="format-code-btn" class="btn-primary" data-event="click"
                        data-handler="formatCode">–§–æ—Ä–º–∞—Ç–∏—Ä–∞–π</button>
                    <button id="clear-output-btn" class="btn-secondary" data-event="click"
                        data-handler="clearOutput">–ò–∑—á–∏—Å—Ç–∏</button>
                    <select id="theme-selector">
                        <option value="vs-dark">Dark</option>
                        <option value="vs">Light</option>
                        <option value="hc-black">High Contrast</option>
                    </select>
                </div>
            </div>

            <!-- Monaco Editor Container -->
            <div class="editor-content">
                <div id="monaco-editor" class="monaco-container"></div>
            </div>
        </div>

        <!-- DevTools Panel (Right) -->
        <div class="devtools-panel" id="devtools-panel">
            <div class="devtools-header">
                <h3>Developer Tools</h3>
                <div class="devtools-controls">
                    <button id="console-tab" class="devtools-btn console-btn active" data-event="click" data-handler="switchTab"
                        data-params='{"tab":"console"}'>Console</button>
                    <button id="mdn-tab" class="devtools-btn dom-btn" data-event="click" data-handler="switchTab"
                        data-params='{"tab":"dom"}'>DOM Preview</button>
                    <button class="devtools-btn mdn-btn" data-event="click" data-handler="switchTab"
                        data-params='{"tab":"mdn"}'>MDN Reference</button>
                </div>
            </div>

            <div class="devtools-content">
                <!-- Console Tab (Default Active) -->
                <div id="console-tab-content" class="tab-content active">
                    <div id="code-output" class="code-output">
                        <div class="output-placeholder">
                            –†–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –æ—Ç –≤–∞—à–∏—è –∫–æ–¥ —â–µ —Å–µ –ø–æ–∫–∞–∂–µ —Ç—É–∫...
                        </div>
                    </div>

                    <!-- Error Panel -->
                    <div id="error-panel" class="error-panel" style="display: none;">
                        <div class="error-header">–ì—Ä–µ—à–∫–∞ –≤ –∫–æ–¥–∞</div>
                        <div id="error-content" class="error-content"></div>
                    </div>

                    <!-- Execution Info Display -->
                    <div id="execution-info" style="display: none;"></div>
                </div>

                <!-- DOM Preview Tab -->
                <div id="dom-tab-content" class="tab-content" style="display: none;">
                    <div class="dom-preview">
                        <div class="dom-preview-header">
                            <h4>Live Preview</h4>
                            <div class="preview-controls">
                                <button class="preview-btn refresh-preview">Refresh</button>
                                <button class="preview-btn toggle-responsive">Responsive</button>
                            </div>
                        </div>
                        <div class="dom-preview-content">
                            <iframe id="dom-preview-iframe" class="preview-iframe"
                                sandbox="allow-scripts allow-same-origin"></iframe>
                        </div>
                    </div>
                </div>

                <!-- MDN Reference Tab -->
                <div id="mdn-tab-content" class="tab-content" style="display: none;">
                    <div class="mdn-offline">
                        <div class="mdn-header">
                            <h3>JavaScript Quick Reference</h3>
                        </div>

                        <div class="mdn-nav">
                            <button class="mdn-nav-btn active" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"overview"}'>Overview</button>
                            <button class="mdn-nav-btn" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"fetch"}'>Fetch</button>
                            <button class="mdn-nav-btn" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"dom"}'>DOM</button>
                            <button class="mdn-nav-btn" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"array"}'>Arrays</button>
                            <button class="mdn-nav-btn" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"object"}'>Objects</button>
                            <button class="mdn-nav-btn" data-event="click" data-handler="showMDNSection"
                                data-params='{"section":"json"}'>JSON</button>
                        </div>

                        <div class="mdn-content-area">
                            <!-- MDN content sections will be populated by JS -->
                            <div class="mdn-section active" id="overview-section">
                                <h4>JavaScript Overview</h4>
                                <p>Quick reference for common JavaScript methods and APIs available during the exam.</p>
                            </div>

                            <div class="mdn-section" id="fetch-section" style="display: none;">
                                <h4>Fetch API</h4>
                                <div class="api-syntax">fetch(url, options)</div>
                                <p class="api-description">Modern way to make HTTP requests</p>
                            </div>

                            <div class="mdn-section" id="dom-section" style="display: none;">
                                <h4>DOM Manipulation</h4>
                                <div class="api-syntax">document.querySelector(selector)</div>
                                <p class="api-description">Select elements from the DOM</p>
                            </div>

                            <div class="mdn-section" id="array-section" style="display: none;">
                                <h4>Array Methods</h4>
                                <div class="api-syntax">array.map(callback)</div>
                                <p class="api-description">Transform array elements</p>
                            </div>

                            <div class="mdn-section" id="object-section" style="display: none;">
                                <h4>Object Methods</h4>
                                <div class="api-syntax">Object.keys(obj)</div>
                                <p class="api-description">Get object property names</p>
                            </div>

                            <div class="mdn-section" id="json-section" style="display: none;">
                                <h4>JSON Methods</h4>
                                <div class="api-syntax">JSON.parse(string)</div>
                                <p class="api-description">Parse JSON string to object</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="exam-footer">
        <div class="footer-info">
            <span id="connection-status">Connected</span>
            <span id="auto-save-status">Auto-save: enabled</span>
        </div>
        <div class="footer-actions">
            <span id="fullscreen-status">Fullscreen: –∞–∫—Ç–∏–≤–µ–Ω</span>
        </div>
    </div>
</div>