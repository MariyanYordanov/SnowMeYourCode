<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Exam Monitor - Student Interface</title>

    <link rel="icon" type="image/svg+xml" href="/favicon.svg">

    <script src="/socket.io/socket.io.js"></script>

    <link rel="stylesheet" href="/student/css/styles.css?v=20251203-mdn-simple">

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>

    <script>
        require.config({
            paths: {
                'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs'
            }
        });

        window.waitForMonaco = function (callback) {
            if (typeof monaco !== 'undefined') {
                callback();
            } else {
                require(['vs/editor/editor.main'], function () {
                    callback();
                });
            }
        };
    </script>
</head>

<body>
    <div id="app-container" class="app-container">
        <!-- Terms Component (Screen 1) -->
        <div id="terms-component" class="component-container">
            <h4>–ó–∞–±—Ä–∞–Ω–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø–∏—Ç–∞:</h4>

            <ol>
                <li><strong>–°–º—è–Ω–∞ –Ω–∞ –ø—Ä–æ–∑–æ—Ä—Ü–∏/—Ç–∞–±–æ–≤–µ:</strong> –ù–∞–ø—É—Å–∫–∞–Ω–µ –Ω–∞ –∏–∑–ø–∏—Ç–Ω–∏—è –ø—Ä–æ–∑–æ—Ä–µ—Ü</li>
                <li><strong>–ö–æ–ø–∏—Ä–∞–Ω–µ –æ—Ç –≤—ä–Ω—à–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏:</strong> –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ clipboard –æ—Ç –¥—Ä—É–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
                <li><strong>–û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ DevTools:</strong> F12, Ctrl+Shift+I –∏–ª–∏ –¥–µ—Å–µ–Ω –±—É—Ç–æ–Ω</li>
                <li><strong>–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –∫–ª–∞–≤–∏—à–Ω–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:</strong> Alt+Tab, Win+Tab, Ctrl+Alt+Del</li>
                <li><strong>–î–æ—Å—Ç—ä–ø –¥–æ –¥—Ä—É–≥–∏ –ø—Ä–æ–≥—Ä–∞–º–∏:</strong> IDE, –±—Ä–∞—É–∑—ä—Ä–∏, —á–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
                <li><strong>–í—Ä—ä–∑–∫–∞ —Å –¥—Ä—É–≥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</strong> TeamViewer, AnyDesk, Remote Desktop</li>
                <li><strong>–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∏:</strong> ChatGPT, GitHub Copilot, Bard</li>
                <li><strong>–ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏ –ª–∏—Ü–∞:</strong> –ü–æ –≤—Å—è–∫–∞–∫—ä–≤ –Ω–∞—á–∏–Ω</li>
            </ol>

            <h4>–ü–æ–∑–≤–æ–ª–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è:</h4>

            <ol>
                <li>–ü–∏—Å–∞–Ω–µ –Ω–∞ –∫–æ–¥ –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä</li>
                <li>–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –≤–≥—Ä–∞–¥–µ–Ω–∞—Ç–∞ –∫–æ–Ω–∑–æ–ª–∞ –∑–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ</li>
                <li>–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ MDN –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Exam Dev Tools</li>
                <li>–°—ä–∑–¥–∞–≤–∞–Ω–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ –≤ –ø—Ä–æ–µ–∫—Ç–∞</li>
            </ol>

            <p>
                <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ, –∏–∑–ø–∏—Ç—ä—Ç —Å–µ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞
                –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏ —Å–µ –æ—Ü–µ–Ω—è–≤–∞ —Å—ä—Å —Å–ª–∞–±–∞ –æ—Ü–µ–Ω–∫–∞!
            </p>

            <label>
                <input type="checkbox" id="terms-agreement">
                <span>
                    <strong>–ü—Ä–æ—á–µ—Ç–æ—Ö –∏ —Å–µ —Å—ä–≥–ª–∞—Å—è–≤–∞–º —Å —É—Å–ª–æ–≤–∏—è—Ç–∞.</strong>
                    –†–∞–∑–±–∏—Ä–∞–º, —á–µ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏–∑–ø–∏—Ç—ä—Ç —Å–µ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.
                </span>
            </label>

            <button id="continue-to-login-btn" disabled>
                –ü—Ä–æ–¥—ä–ª–∂–∏ –∫—ä–º –≤—Ö–æ–¥
            </button>
        </div>

        <!-- Login Component (Screen 2) -->
        <div id="login-component" class="component-container" style="display: none;">
            <div class="login-container">
                <div class="login-form">
                    <h2 class="text-center mb-xxl">–í—Ö–æ–¥ –≤ –∏–∑–ø–∏—Ç–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ</h2>

                    <div class="form-group mb-lg">
                        <input type="text" id="student-name" class="input" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è" required>
                    </div>

                    <div class="form-group mb-lg">
                        <select id="student-class" class="input select" required>
                            <option value="">–ò–∑–±–µ—Ä–µ—Ç–µ –∫–ª–∞—Å</option>
                            <option value="11–ê">11–ê</option>
                            <option value="11–ë">11–ë</option>
                            <option value="12–ê">12–ê</option>
                            <option value="12–ë">12–ë</option>
                        </select>
                    </div>

                    <button id="login-btn" class="btn btn-primary" disabled>
                        –í–ª–µ–∑ –≤ –∏–∑–ø–∏—Ç–∞
                    </button>

                    <div id="login-status" class="status-message mt-lg"></div>
                </div>
            </div>
        </div>
        
        <div id="exam-component" class="component-container" style="display: none;">
            <div class="exam-container">
                <header class="exam-header">
                    <div class="exam-info d-flex gap-lg items-center">
                        <span class="student-name text-sm font-medium"></span>
                        <span class="student-class text-sm"></span>
                    </div>
        
                    <div class="exam-timer d-flex items-center gap-sm">
                        <span class="timer-label text-sm">Time left:</span>
                        <span id="exam-timer" class="timer-value font-mono text-lg font-bold">03:00:00</span>
                    </div>
        
                    <div class="exam-actions">
                        <button id="finish-exam-btn" class="btn btn-danger">
                            Send
                        </button>
                    </div>
                </header>
        
                <aside class="exam-sidebar">
                    <div class="sidebar-tabs">
                        <button class="sidebar-tab active" data-panel="files">Files</button>
                        <button class="sidebar-tab" data-panel="mdn">MDN</button>
                    </div>
        
                    <div class="sidebar-content">
                        <div id="files-panel" class="sidebar-panel active">
                            <div class="panel-header">
                                <h3 class="text-sm font-medium m-0">Project Files</h3>
                                <div class="file-toolbar d-flex gap-xs">
                                    <button id="new-folder-btn" class="btn btn-icon btn-sm btn-success" title="New Folder">üìÅ</button>
                                    <button class="btn btn-icon btn-sm btn-primary" title="Refresh">‚ü≥</button>
                                </div>
                            </div>
                            <div id="file-tree" class="file-tree">
                                <div class="file-tree-empty text-center text-muted p-xl">
                                    <div class="empty-title font-medium mb-sm">No Project Files</div>
                                    <div class="empty-subtitle text-sm">Create or upload files to start</div>
                                </div>
                            </div>
                        </div>
        
                        <div id="mdn-panel" class="sidebar-panel">
                            <div class="panel-header">
                                <h3 class="text-sm font-medium m-0">MDN Reference</h3>
                            </div>
                            <div class="mdn-tabs tabs-container">
                                <button class="tab active" data-section="javascript">JavaScript</button>
                                <button class="tab" data-section="dom">DOM API</button>
                                <button class="tab" data-section="css">CSS</button>
                                <button class="tab" data-section="html">HTML</button>
                            </div>
                            <div class="mdn-content p-md overflow-y-auto">
                                <div class="text-center text-muted p-xl">
                                    <p>Offline MDN Documentation</p>
                                    <p class="text-sm">Select a category above</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>
        
                <main class="main-area">
                    <div class="editor-area">
                        <div class="editor-header">
                            <div class="editor-actions d-flex gap-xs">
                                <button id="run-btn" class="btn btn-sm btn-primary">Run</button>
                                <button id="start-server-btn" class="btn btn-sm btn-success">Start Server</button>
                                <button id="format-btn" class="btn btn-sm btn-purple">Format</button>
                            </div>
                        </div>
                        
                        <div id="file-tabs-container" class="tabs-container"></div>

                        <div class="editor-split-container">
                            <div id="monaco-editor" class="editor-main-panel"></div>

                            <div id="bottom-panel-resize-handle" class="console-resize-handle"></div>

                            <div id="bottom-panel" class="console-panel">
                                <div class="bottom-panel-tabs">
                                    <button class="bottom-tab active" data-panel="console">Console</button>
                                    <button class="bottom-tab" data-panel="preview">Preview</button>
                                </div>

                                <div id="console-content" class="bottom-content active">
                                    <div id="console-output" class="console-output"></div>
                                </div>

                                <div id="preview-content" class="bottom-content">
                                    <iframe id="preview-frame" class="preview-frame" sandbox="allow-scripts"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
        
                </main>
        
                <footer class="exam-footer">
                    <div class="footer-right d-flex items-center gap-md" style="margin-left: auto;">
                        <button class="btn btn-sm btn-warning" id="help-btn">Help</button>
                    </div>
                </footer>
            </div>
        </div>

        <!-- Exam Completion Component -->
        <div id="completion-component" class="component-container" style="display: none;">
            <div style="
                width: 100%;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                animation: fadeIn 0.5s ease-out;
            ">
                <div style="
                    background: white;
                    border-radius: 20px;
                    padding: 3rem;
                    max-width: 600px;
                    width: 90%;
                    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
                    text-align: center;
                    animation: slideUp 0.6s ease-out;
                ">
                    <div style="
                        font-size: 5rem;
                        margin-bottom: 1.5rem;
                        animation: bounceIn 1s ease-out;
                    ">‚úì</div>

                    <h1 style="
                        color: #2d3748;
                        font-size: 2.5rem;
                        font-weight: 700;
                        margin: 0 0 1rem 0;
                    ">–ò–∑–ø–∏—Ç—ä—Ç –ø—Ä–∏–∫–ª—é—á–∏!</h1>

                    <p style="
                        color: #4a5568;
                        font-size: 1.25rem;
                        line-height: 1.6;
                        margin-bottom: 2.5rem;
                    ">–í–∞—à–µ—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –µ –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ.</p>

                    <div style="
                        background: #f7fafc;
                        border-radius: 12px;
                        padding: 2rem;
                        margin-bottom: 2rem;
                        border-left: 4px solid #667eea;
                    ">
                        <p style="
                            color: #2d3748;
                            font-size: 1rem;
                            margin: 0 0 1rem 0;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <strong style="color: #667eea;">–£—á–µ–Ω–∏–∫:</strong>
                            <span id="completion-student-name" style="color: #4a5568;"></span>
                        </p>
                        <p style="
                            color: #2d3748;
                            font-size: 1rem;
                            margin: 0 0 1rem 0;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <strong style="color: #667eea;">–ö–ª–∞—Å:</strong>
                            <span id="completion-student-class" style="color: #4a5568;"></span>
                        </p>
                        <p style="
                            color: #2d3748;
                            font-size: 1rem;
                            margin: 0;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <strong style="color: #667eea;">–ü—Ä–∏–∫–ª—é—á–µ–Ω –Ω–∞:</strong>
                            <span id="completion-time" style="color: #4a5568;"></span>
                        </p>
                    </div>

                    <p style="
                        color: #718096;
                        font-size: 1rem;
                        margin: 0;
                        font-style: italic;
                    ">–ú–æ–∂–µ—Ç–µ –¥–∞ –∑–∞—Ç–≤–æ—Ä–∏—Ç–µ —Ç–æ–∑–∏ –ø—Ä–æ–∑–æ—Ä–µ—Ü.</p>
                </div>
            </div>
        </div>

    </div>

    <div id="violation-overlay" class="violation-overlay d-none">
        <div class="violation-content">
            <div class="violation-icon">‚ö†</div>
            <h2 class="violation-title">–ò–∑–ø–∏—Ç—ä—Ç –µ –ø—Ä–µ–∫—Ä–∞—Ç–µ–Ω!</h2>
            <p class="violation-message mb-xl"></p>
            <button class="btn btn-danger" onclick="window.location.reload()">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>
    </div>

    <script type="module" src="/student/js/main.js"></script>
</body>

</html>