<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Programming Exam System</title>
    <!-- Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="student.css">

    <!-- Monaco Editor (CDN) -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    </script>

</head>

<body>
    <!-- Login Container -->
    <div id="login-container" class="login-container">
        <div class="login-form">
            <h2>üéì –í—Ö–æ–¥ –≤ –∏–∑–ø–∏—Ç–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ</h2>

            <div class="form-group">
                <input type="text" id="student-name" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è" required>
            </div>

            <div class="form-group">
                <select id="student-class" required>
                    <option value="">–ò–∑–±–µ—Ä–µ—Ç–µ –∫–ª–∞—Å</option>
                    <option value="11–ê">11–ê</option>
                    <option value="11–ë">11–ë</option>
                    <option value="12–ê">12–ê</option>
                    <option value="12–ë">12–ë</option>
                </select>
            </div>

            <button id="login-btn" class="btn-primary">
                üöÄ –í–ª–µ–∑ –≤ –∏–∑–ø–∏—Ç–∞
            </button>

            <div id="login-status" class="status-message"></div>
        </div>
    </div>

    <!-- Fullscreen Exam Container -->
    <div id="exam-container" class="exam-container" style="display: none;">
        <!-- Header -->
        <div class="exam-header">
            <div class="student-info">
                <span>–°—Ç—É–¥–µ–Ω—Ç: <strong id="student-name-display"></strong></span>
                <span>–ö–ª–∞—Å: <strong id="student-class-display"></strong></span>
                <span>ID: <strong id="session-id-display"></strong></span>
            </div>

            <div class="exam-timer">
                <span class="timer-icon">‚è±Ô∏è</span>
                <span id="timer-display">03:00:00</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="exam-content">
            <!-- Code Editor Panel -->
            <div class="editor-panel">
                <div class="panel-header">
                    <h3>üìù –ö–æ–¥ –†–µ–¥–∞–∫—Ç–æ—Ä</h3>
                    <div class="editor-controls">
                        <button id="run-code-btn" class="btn-success">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç–∏—Ä–∞–π</button>
                        <button id="format-code-btn" class="btn-primary">üé® –§–æ—Ä–º–∞—Ç–∏—Ä–∞–π</button>
                        <button id="clear-output-btn" class="btn-secondary">üóëÔ∏è –ò–∑—á–∏—Å—Ç–∏</button>
                        <select id="theme-selector">
                            <option value="vs-dark">Dark</option>
                            <option value="vs">Light</option>
                            <option value="hc-black">High Contrast</option>
                        </select>
                    </div>
                </div>

                <!-- Monaco Editor -->
                <div id="monaco-editor" class="monaco-container"></div>
            </div>

            <!-- Output Panel -->
            <div class="output-panel">
                <div class="panel-header">
                    <h3>üñ•Ô∏è –†–µ–∑—É–ª—Ç–∞—Ç</h3>
                </div>

                <div id="code-output" class="code-output">
                    <div class="output-placeholder">
                        –†–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –æ—Ç –≤–∞—à–∏—è –∫–æ–¥ —â–µ —Å–µ –ø–æ–∫–∞–∂–µ —Ç—É–∫...
                    </div>
                </div>

                <!-- Error Panel -->
                <div id="error-panel" class="error-panel" style="display: none;">
                    <div class="error-header">‚ùå –ì—Ä–µ—à–∫–∞ –≤ –∫–æ–¥–∞</div>
                    <div id="error-content" class="error-content"></div>
                </div>

                <!-- Execution Info Display -->
                <div id="execution-info" style="display: none;"></div>
            </div>
        </div>

        <!-- Footer -->
        <div class="exam-footer">
            <div class="exam-status">
                <span id="last-saved">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –∞–∫—Ç–∏–≤–Ω–æ</span>
                <span id="connection-status" class="status-connected">‚óè –°–≤—ä—Ä–∑–∞–Ω</span>
                <span id="fullscreen-status">üîí Fullscreen –∞–∫—Ç–∏–≤–µ–Ω</span>
            </div>

            <button id="finish-exam-btn" class="btn-danger">
                üèÅ –ü—Ä–∏–∫–ª—é—á–∏ –∏–∑–ø–∏—Ç–∞
            </button>
        </div>
    </div>

    <!-- Red Violation Screen -->
    <div id="violation-screen" class="violation-overlay" style="display: none;">
        <div class="violation-dialog">
            <div class="violation-header">
                <div class="violation-icon">üö´</div>
                <h2>–ó–ê–°–ï–ß–ï–ù–û –ù–ê–†–£–®–ï–ù–ò–ï</h2>
            </div>

            <div class="violation-body">
                <p id="violation-reason" class="violation-message">
                    –ü—Ä–∏—á–∏–Ω–∞ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ—Ç–æ —â–µ —Å–µ –ø–æ–∫–∞–∂–µ —Ç—É–∫
                </p>
                <p class="violation-warning">
                    –í—Å–∏—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–∏.
                </p>
            </div>

            <div class="violation-actions">
                <button id="continue-exam-btn" class="btn-warning">
                    ‚ö†Ô∏è –ü—Ä–æ–¥—ä–ª–∂–∏ –∏–∑–ø–∏—Ç–∞
                </button>
                <button id="exit-violation-btn" class="btn-danger">
                    üö™ –ù–∞–ø—É—Å–Ω–∏ –∏–∑–ø–∏—Ç–∞
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>–ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –∏–∑–ø–∏—Ç–∞...</p>
        </div>
    </div>

    <!-- Custom Dialog Container -->
    <div id="custom-dialog-container"></div>

    <!-- Main JavaScript -->
    <script type="module" src="js/main.js"></script>
</body>

</html>