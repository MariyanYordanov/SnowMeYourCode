<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Workspace - Exam Monitor</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="css/student.css">
    <link rel="stylesheet" href="css/editor.css">
</head>

<body>
    <!-- Login Form -->
    <div id="login-form" class="login-form">
        <h2>–í—Ö–æ–¥ –∑–∞ –∏–∑–ø–∏—Ç</h2>
        <input type="text" id="student-name" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è" autocomplete="off">
        <input type="text" id="student-class" placeholder="–ö–ª–∞—Å (–Ω–∞–ø—Ä. 11–ê)" autocomplete="off">
        <button onclick="joinExam()" id="login-btn">–í–ª–µ–∑ –≤ –∏–∑–ø–∏—Ç–∞</button>

        <div id="login-status" style="margin-top: 15px; padding: 10px; border-radius: 5px; display: none;">
            <!-- Login status messages -->
        </div>
    </div>

    <!-- Exam Workspace (Hidden initially) -->
    <div id="workspace" class="workspace" style="display: none;">
        <!-- Exam Header -->
        <div class="exam-header">
            <div class="exam-title">
                <h2>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–∑–ø–∏—Ç –ø–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ</h2>
                <span id="student-info"></span>
            </div>
            <div id="timer" class="exam-timer">
                –ó–∞—Ä–µ–∂–¥–∞–Ω–µ...
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="exam-content">
            <!-- Code Editor Section -->
            <div class="editor-section">
                <div class="editor-header">
                    <h3>–ö–æ–¥ —Ä–µ–¥–∞–∫—Ç–æ—Ä</h3>
                    <div class="editor-controls">
                        <button id="save-code" class="btn-primary">–ó–∞–ø–∞–∑–∏</button>
                        <button id="run-code" class="btn-secondary">–ò–∑–ø—ä–ª–Ω–∏</button>
                    </div>
                </div>

                <textarea id="code-editor" placeholder="–ù–∞–ø–∏—à–µ—Ç–µ –≤–∞—à–∏—è –∫–æ–¥ —Ç—É–∫...">
// –î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ –∏–∑–ø–∏—Ç–∞!
// –ù–∞–ø–∏—à–µ—Ç–µ –≤–∞—à–∏—è JavaScript –∫–æ–¥ —Ç—É–∫

console.log("–ó–¥—Ä–∞–≤–µ–π, —Å–≤—è—Ç!");
                </textarea>
            </div>

            <!-- Output/Console Section -->
            <div class="output-section">
                <div class="output-header">
                    <h3>–ò–∑—Ö–æ–¥</h3>
                    <button id="clear-output" class="btn-secondary">–ò–∑—á–∏—Å—Ç–∏</button>
                </div>
                <div id="code-output" class="code-output">
                    <div class="output-placeholder">
                        –ò–∑—Ö–æ–¥—ä—Ç –æ—Ç –≤–∞—à–∏—è –∫–æ–¥ —â–µ —Å–µ –ø–æ–∫–∞–∂–µ —Ç—É–∫...
                    </div>
                </div>
            </div>
        </div>

        <!-- Exam Controls -->
        <div class="exam-controls">
            <button id="finish-exam" class="btn-danger">–ü—Ä–∏–∫–ª—é—á–∏ –∏–∑–ø–∏—Ç–∞</button>
            <div class="exam-info">
                <span id="session-id"></span>
                <span id="last-saved">–ü–æ—Å–ª–µ–¥–Ω–æ –∑–∞–ø–∞–∑–µ–Ω–æ: –ù–∏–∫–æ–≥–∞</span>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3>–ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –∏–∑–ø–∏—Ç–∞...</h3>
            <p>–ú–æ–ª—è –∏–∑—á–∞–∫–∞–π—Ç–µ...</p>
        </div>
    </div>

    <!-- Error Screen -->
    <div id="error-screen" class="error-screen" style="display: none;">
        <div class="error-content">
            <h2>–í—ä–∑–Ω–∏–∫–Ω–∞ –≥—Ä–µ—à–∫–∞!</h2>
            <p id="error-message">–ù–µ–æ—á–∞–∫–≤–∞–Ω–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –∏–∑–ø–∏—Ç–∞.</p>
            <button onclick="location.reload()" class="btn-primary">–û–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ</button>
        </div>
    </div>

    <!-- Completion Screen -->
    <div id="completion-screen" class="completion-screen" style="display: none;">
        <div class="completion-content">
            <h2>üéâ –ò–∑–ø–∏—Ç—ä—Ç –µ –∑–∞–≤—ä—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!</h2>
            <p>–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ —É—á–∞—Å—Ç–∏–µ—Ç–æ!</p>
            <div class="completion-info">
                <p><strong>–í—Ä–µ–º–µ –Ω–∞ –ø—Ä–∏–∫–ª—é—á–≤–∞–Ω–µ:</strong> <span id="completion-time"></span></p>
                <p><strong>Session ID:</strong> <span id="completion-session"></span></p>
            </div>
            <button onclick="window.close()" class="btn-primary">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/ModalAntiCheat.js"></script>
    <script src="js/main.js"></script>

    <script>
        // Global exam functions for HTML onclick handlers
        function joinExam() {
            if (window.examSystem) {
                window.examSystem.handleLogin();
            }
        }

        function finishExam() {
            if (window.examSystem) {
                window.examSystem.finishExam();
            }
        }
    </script>
</body>

</html>