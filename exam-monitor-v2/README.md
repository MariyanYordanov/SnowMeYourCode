# Exam Monitor v2.0

> –°–∏—Å—Ç–µ–º–∞ –∑–∞ –ø—Ä–æ–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏ –∏–∑–ø–∏—Ç–∏ —Å –≤–≥—Ä–∞–¥–µ–Ω–∞ –∞–Ω—Ç–∏–∏–∑–º–∞–º–∞ –∑–∞—â–∏—Ç–∞

## üéØ –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏?

Exam Monitor –µ —É–µ–± –±–∞–∑–∏—Ä–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –ø—Ä–æ–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏ –∏–∑–ø–∏—Ç–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞–Ω–∞ —Å—Ä–µ–¥–∞. –û—Å–∏–≥—É—Ä—è–≤–∞:

- **Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –Ω–∞ —É—á–µ–Ω–∏—Ü–∏ –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø–∏—Ç
- **–ê–Ω—Ç–∏–∏–∑–º–∞–º–∞ —Å–∏—Å—Ç–µ–º–∞** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞–Ω–µ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–µ
- **Monaco Editor** –∑–∞ –ø–∏—Å–∞–Ω–µ –Ω–∞ –∫–æ–¥
- **WebSocket –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è** –º–µ–∂–¥—É —É—á–µ–Ω–∏—Ü–∏ –∏ —É—á–∏—Ç–µ–ª
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ** –Ω–∞ –∫–æ–¥–∞
- **Practice Server** —Å JSONStore API –∑–∞ –∑–∞–¥–∞—á–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
exam-monitor-v2/
‚îú‚îÄ‚îÄ exam-server/              # –û—Å–Ω–æ–≤–µ–Ω —Å—ä—Ä–≤—ä—Ä (Port 8080)
‚îÇ   ‚îú‚îÄ‚îÄ server.mjs           # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exam-config.json # –¶–µ–Ω—Ç—Ä–∞–ª–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SessionManager.mjs      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Å–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WebSocketHandler.mjs    # Real-time –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JSONDataStore.mjs       # –î–∞–Ω–Ω–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProxyHandler.mjs        # Proxy –∫—ä–º practice server
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teacher-auth.mjs        # –£—á–∏—Ç–µ–ª—Å–∫–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project-routes.mjs      # –§–∞–π–ª–æ–≤–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ student/                # –£—á–µ–Ω–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ teacher/                # –£—á–∏—Ç–µ–ª—Å–∫–∏ –ø–∞–Ω–µ–ª
‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îÇ       ‚îú‚îÄ‚îÄ classes/                # –£—á–µ–Ω–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω–∏ –ø–æ –∫–ª–∞—Å–æ–≤–µ
‚îÇ       ‚îú‚îÄ‚îÄ sessions/               # –ê–∫—Ç–∏–≤–Ω–∏ —Å–µ—Å–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ classes.json            # –ë–∞–∑–∞ —Å —É—á–µ–Ω–∏—Ü–∏
‚îÇ
‚îî‚îÄ‚îÄ practice-server/          # JSONStore API (Port 3030)
    ‚îú‚îÄ‚îÄ server.mjs
    ‚îú‚îÄ‚îÄ data/                 # JSON –∫–æ–ª–µ–∫—Ü–∏–∏
    ‚îî‚îÄ‚îÄ exam-files/           # –§–∞–π–ª–æ–≤–µ –∑–∞ –∏–∑–ø–∏—Ç–∞
```

## üöÄ –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ

### –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è
```bash
npm install
```

### –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ
```bash
# –°—Ç–∞—Ä—Ç –Ω–∞ exam + practice —Å—ä—Ä–≤—ä—Ä–∏
npm start

# –ò–ª–∏ —Å—Ç–∞—Ä—Ç —Å–∞–º–æ –Ω–∞ exam —Å—ä—Ä–≤—ä—Ä
cd exam-server && node server.mjs

# –ò–ª–∏ —Å—Ç–∞—Ä—Ç —Å–∞–º–æ –Ω–∞ practice —Å—ä—Ä–≤—ä—Ä
cd practice-server && node server.mjs
```

### –î–æ—Å—Ç—ä–ø
- **–£—á–µ–Ω–∏—Ü–∏:** http://localhost:8080/student
- **–£—á–∏—Ç–µ–ª:** http://localhost:8080/teacher
- **Practice API:** http://localhost:3030/jsonstore/*

## üë§ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

### –£—á–∏—Ç–µ–ª—Å–∫–∏ –¥–æ—Å—Ç—ä–ø
```
URL: http://localhost:8080/teacher
Username: admin
Password: exam-admin-2024
```

### –£—á–µ–Ω–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥
1. –û—Ç–∏–¥–∏ –Ω–∞ http://localhost:8080/student
2. –ü—Ä–æ—á–µ—Ç–∏ —É—Å–ª–æ–≤–∏—è—Ç–∞
3. –ü–æ—Å—Ç–∞–≤–∏ –æ—Ç–º–µ—Ç–∫–∞ "–°—ä–≥–ª–∞—Å–µ–Ω —Å—ä–º"
4. –í—ä–≤–µ–¥–∏ –∏–º–µ –∏ –∫–ª–∞—Å (11–ê, 11–ë, 12–ê, 12–ë)
5. –ù–∞—Ç–∏—Å–Ω–∏ "–í–ª–µ–∑ –≤ –∏–∑–ø–∏—Ç–∞"
6. –©–µ —Å–µ –ø–æ–∫–∞–∂–µ —á–µ—Ä–≤–µ–Ω –µ–∫—Ä–∞–Ω —Å –±—É—Ç–æ–Ω –∑–∞ fullscreen
7. –ù–∞—Ç–∏—Å–Ω–∏ –±—É—Ç–æ–Ω–∞ ‚Üí –∏–∑–ø–∏—Ç—ä—Ç –∑–∞–ø–æ—á–≤–∞

## üéì –ö–∞–∫ —Ä–∞–±–æ—Ç–∏?

### 1. –£—á–µ–Ω–∏–∫ –∑–∞–ø–æ—á–≤–∞ –∏–∑–ø–∏—Ç:
```
–õ–æ–≥–∏–Ω ‚Üí Fullscreen —Ä–µ–∂–∏–º ‚Üí Monaco Editor ‚Üí –ü–∏—Å–∞–Ω–µ –Ω–∞ –∫–æ–¥ ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ
```

### 2. –£—á–∏—Ç–µ–ª –Ω–∞–±–ª—é–¥–∞–≤–∞:
```
Dashboard ‚Üí Real-time —Å–ø–∏—Å—ä–∫ —Å —É—á–µ–Ω–∏—Ü–∏ ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è ‚Üí –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∫–æ–¥
```

### 3. –ê–Ω—Ç–∏–∏–∑–º–∞–º–∞ —Å–∏—Å—Ç–µ–º–∞:
- Fullscreen –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (ESC, F11 –±–ª–æ–∫–∏—Ä–∞–Ω–∏)
- –ó–∞—Å–∏—á–∞–Ω–µ –Ω–∞ Alt+Tab (—Å–º—è–Ω–∞ –Ω–∞ –ø—Ä–æ–∑–æ—Ä–µ—Ü)
- Keyboard –±–ª–æ–∫–∏—Ä–∞–Ω–µ (Ctrl+W, Cmd+Q, –∏ –¥—Ä.)
- Context menu –±–ª–æ–∫–∏—Ä–∞–Ω (–¥–µ—Å–µ–Ω –∫–ª–∏–∫)
- Clipboard –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **F12 –†–ê–ó–†–ï–®–ï–ù** –∑–∞ debugging –≤ dev mode

### 4. Data flow:
```
Student ‚Üí WebSocket ‚Üí Exam Server ‚Üí Teacher Dashboard
                   ‚Üì
                Database (sessions + student data)
```

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π `exam-server/config/exam-config.json`:

```json
{
  "exam": {
    "duration": 30,              // –º–∏–Ω—É—Ç–∏
    "durationUnit": "minutes"
  },
  "security": {
    "antiCheat": {
      "enabled": true,
      "strictMode": true,
      "autoDisconnectScore": 80  // –ø—Ä–∏ 80+ —Ç–æ—á–∫–∏ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞–Ω–µ
    },
    "sessionSecurity": {
      "gracePeriod": 3,          // –º–∏–Ω—É—Ç–∏ –∑–∞ late join
      "allowSessionRecovery": true
    }
  }
}
```

## üõ†Ô∏è Development Mode

### –ó–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å DevTools:
```
http://localhost:8080/student?dev=true
```

–ò–ª–∏ –≤ –±—Ä–∞—É–∑—ä—Ä console:
```javascript
window.ALLOW_DEV_MODE = true;
location.reload();
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** Dev mode —Ä–∞–±–æ—Ç–∏ –°–ê–ú–û –Ω–∞ localhost/127.0.0.1

### –ó–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –∞–Ω—Ç–∏–∏–∑–º–∞–º–∞:
```
http://localhost:8080/student
// –±–µ–∑ ?dev=true
```

## üìÇ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞ –¥–∞–Ω–Ω–∏

### –ò–≥–Ω–æ—Ä–∏—Ä–∞–Ω–∏ –æ—Ç Git:
```
exam-server/data/classes/*/      # –£—á–µ–Ω–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω–∏
exam-server/data/sessions/*/     # –°–µ—Å–∏–∏
package-lock.json                # Auto-generated
```

### –ó–∞–ø–∞–∑–µ–Ω–∏:
```
exam-server/data/classes/.gitkeep
exam-server/data/sessions/.gitkeep
```

## üåê WebSocket Events

### Student ‚Üí Server:
- `student-join` - –£—á–µ–Ω–∏–∫ —Å–µ —Å–≤—ä—Ä–∑–≤–∞
- `code-update` - –ö–æ–¥—ä—Ç –µ –ø—Ä–æ–º–µ–Ω–µ–Ω
- `heartbeat` - –ü–µ—Ä–∏–æ–¥–∏—á–µ–Ω ping (–Ω–∞ –≤—Å–µ–∫–∏ 30s)
- `suspicious-activity` - –ó–∞—Å–µ—á–µ–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ
- `exam-complete` - –ò–∑–ø–∏—Ç—ä—Ç –µ –∑–∞–≤—ä—Ä—à–µ–Ω

### Server ‚Üí Student:
- `student-id-assigned` - Session ID
- `time-warning` - 60, 30, 15, 5 min –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `force-disconnect` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞–Ω–µ
- `exam-expired` - –í—Ä–µ–º–µ—Ç–æ –∏–∑—Ç–µ—á–µ

### Server ‚Üí Teacher:
- `student-connected` - –ù–æ–≤ —É—á–µ–Ω–∏–∫
- `student-disconnected` - –£—á–µ–Ω–∏–∫ –∏–∑–ª–µ–∑–µ
- `student-code-update` - –ö–æ–¥—ä—Ç –µ –æ–±–Ω–æ–≤–µ–Ω
- `student-suspicious` - –ù–∞—Ä—É—à–µ–Ω–∏–µ
- `all-students` - –ü—ä–ª–µ–Ω —Å–ø–∏—Å—ä–∫

## üìù API Endpoints

### Student endpoints:
```
POST /api/student-login       # –õ–æ–≥–∏–Ω
GET  /api/exam-files          # –°–ø–∏—Å—ä–∫ —Å —Ñ–∞–π–ª–æ–≤–µ
GET  /api/project/files       # –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
POST /api/project/file        # –°—ä–∑–¥–∞–π —Ñ–∞–π–ª
PUT  /api/project/file/:name  # –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π —Ñ–∞–π–ª
```

### Teacher endpoints:
```
POST /api/teacher/login       # –£—á–∏—Ç–µ–ª—Å–∫–∏ –ª–æ–≥–∏–Ω
GET  /api/teacher/logout      # –ò–∑—Ö–æ–¥
GET  /api/anticheat/stats     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

### Practice Server (proxy):
```
GET  http://localhost:8080/proxy/jsonstore/phonebook
POST http://localhost:8080/proxy/jsonstore/phonebook
PUT  http://localhost:8080/proxy/jsonstore/phonebook/:id
```

## üéØ –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ —Ç–∏–ø–æ–≤–µ –∏–∑–ø–∏—Ç–∏

### 1. Vanilla JavaScript
- HTML + CSS + JS
- Preview –≤ iframe
- –ù—è–º–∞ backend

### 2. Express.js –ø—Ä–æ–µ–∫—Ç–∏
- –ü—ä–ª–µ–Ω Node.js stack
- Auto `npm install`
- Student server –Ω–∞ port 4000+
- Proxy –∫—ä–º student server

## üö® –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏

### "–ù–µ –º–æ–≥–∞ –¥–∞ –≤–ª—è–∑–∞ –≤ –∏–∑–ø–∏—Ç–∞"
- –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–º–µ—Ç–æ –µ –ø–æ–Ω–µ 3 —Å–∏–º–≤–æ–ª–∞
- –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ —Å–∏ –∏–∑–±—Ä–∞–ª –∫–ª–∞—Å
- –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ —Å–∏ –ø–æ—Å—Ç–∞–≤–∏–ª –æ—Ç–º–µ—Ç–∫–∞ –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ç–∞

### "–ò–∑–ø–∏—Ç—ä—Ç –º–µ –∏–∑—Ö–≤—ä—Ä–ª–∏ –≤–µ–¥–Ω–∞–≥–∞"
- –í–µ—Ä–æ—è—Ç–Ω–æ –∞–Ω—Ç–∏–∏–∑–º–∞–º–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –∑–∞—Å–µ–∫–ª–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞ –∑–∞ errors (F12 –≤ dev mode)
- –ù–µ –∏–∑–ø–æ–ª–∑–≤–∞–π Alt+Tab –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø–∏—Ç

### "–ß–µ—Ä–≤–µ–Ω –µ–∫—Ä–∞–Ω —Å–ª–µ–¥ login"
- –¢–æ–≤–∞ –µ –Ω–æ—Ä–º–∞–ª–Ω–æ - –Ω–∞—Ç–∏—Å–Ω–∏ –±—É—Ç–æ–Ω–∞ –∑–∞ fullscreen
- –°–ª–µ–¥ fullscreen –∏–∑–ø–∏—Ç—ä—Ç —â–µ –∑–∞–ø–æ—á–Ω–µ

## üìÑ –õ–∏—Ü–µ–Ω–∑

ISC

## üë• –ê–≤—Ç–æ—Ä–∏

Exam Monitor Team

---

**Version:** 2.0.0
**Last Updated:** 2025-01-20
